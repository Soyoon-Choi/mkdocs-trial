# 4. 데이터 타입 변환

Altibase와 쉐이프 파일 간 데이터 타입 변환표이다. 쉐이프 파일에서 데이터 타입 정보는 dBASE 파일 형식인 .dbf 파일이 가지고 있다. 쉐이프 파일 버전에 따라 지원하는 데이터 타입이나 precision이 달라질 수 있으므로 주의해야 한다.

### 가져오기 데이터 타입 변환

| Data Type | dBASE field      | Altibase                | Note                                                                                                                                              |
| --------- | ---------------- | ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| 숫자형       | NUMBER           | INTEGER, BIGINT, DOUBLE | dBASE 필드(field)의 precision과 scale 여부에 따라 알티베이스 데이터 타입을 결정한다. scale이 있으면 DOUBLE 형으로, scale이 없으면 precision 1~9까지 INTEGER 형, 10 이상은 BIGINT 형으로 변환한다. |
| 문자형       | CHARACTER        | VARCHAR                 | -                                                                                                                                                 |
| 날짜형       | DATE             | DATE                    | dBASE에서 TIME 타입 미지원                                                                                                                               |
| 불리언       | BOOLEAN(Logical) | VARCHAR(1)              | 알티베이스는 Boolean 데이터 타입을 지원하지 않는다. dbf 파일에서 T 값은 "T"로 F 값은 "F"로 가져오기를 수행하고 나머지 값(1/0/null)은 널(NULL)로 처리한다.                                          |

### 내보내기 데이터 타입 변환

| Data Type | Altibase                                               | dBASE field (precision) | Note                                                         |
| :-------: | :----------------------------------------------------- | :---------------------: | :----------------------------------------------------------- |
|  숫자형   | SMALLINT, INTEGER, BIGINT                              |         NUMBER          | Altibase 데이터 타입에 따라 적절한 precision을 설정하며 scale은 0이다. |
|  숫자형   | REAL, NUMBER, NUMERIC, DOUBLE, FLOAT                   |         NUMBER          | Altibase 데이터 타입에 따라 적절한 precision과 scale을 설정한다. |
|  문자형   | CHAR, VARCHAR                                          |        CHARACTER        | dBASE  문자형 최대값은 255 이다.                             |
|  문자형   | NCHAR, NVARCHAR                                        |         미지원          | -                                                            |
|   날짜    | DATE                                                   |          DATE           | Altibase 는 TIME을 지원한다.<br />dBASE 는 TIME을 지원하지 않는다. |
|   이진    | BINARY, BIT, VARBIT, BYTE, VARBYTE, NIBBLE, CLOB, BLOB |         미지원          | -                                                            |

<br/>

------

<a name="shapefile">1</a> 쉐이프 파일(Shapefile) : 지리정보시스템 소프트웨어 개발사 ESRI에서 개발한 파일 형식으로 지리정보시스템(GIS) 분야에서 표준 파일이다. 쉐이프 파일은 아래 3가지 파일들이 필수로 구성되어 있다.

- shp : 벡터 형식으로 점, 선, 도형을 표현한 공간 데이터 정보를 가지고 있다.
- shx : 인덱스 파일. shp 파일에 담겨있는 도형 정보의 위치를 담고 있다.
- dbf : shp 파일의 도형 정보에 대한 속성 정보를 담은 dBASE 테이블 파일이다. 

참고 : [Geoprocessing considerations for shapefile output](https://desktop.arcgis.com/en/arcmap/latest/manage-data/shapefiles/geoprocessing-considerations-for-shapefile-output.htm)
